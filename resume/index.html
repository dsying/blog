<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>个人简历</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="//at.alicdn.com/t/font_683031_wqhmiapc1nka9k9.js"></script>
    <style type="text/css">
        .icon {
           width: 1em; height: 1em;
           vertical-align: -0.15em;
           fill: currentColor;
           overflow: hidden;
        }
        @keyframes s {
            0%{
                width:0px;height:0px;opacity: 1;
            }
            100%{
                width:100px;height:100px;opacity: 0;
            }
        }
        .site-welcome{
            display: none;
        }
        .site-welcome.active{
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            top:0;
            left:0;
            width:100%;
            height:100%;
            background: lightgray;
            z-index: 1;
        }
        .loading{
            width:100px;
            height:100px;
            position: relative;
        }
        .loading::before,.loading::after{
            content:'';
            position: absolute;
            top:0;right:0;bottom:0;left:0;
            background: #000;
            border-radius:50%;
            margin:auto;
            animation: s 1.5s infinite linear;
        }
        .loading::after{
            animation-delay:0.75s;
        }

    </style>
</head>
<body>
    <div class="site-welcome active" id="siteWelcome">
        <div class="loading"></div>
    </div>

    <div id="tabNavBar" class="tabNavBar ">
        <div class="topNavBar-inner clearflix">
            <a href="#" class="logo" style="float: left;">
                    <span class="rs">RS</span><span class="card">card</span>
            </a>
            <nav style="float: right;">
                <ul class="clearflix">
                    <li><a href="#siteAbout">ABOUT</a></li>
                    <li><a href="#siteSkills">SKILLS</a></li>
                    <li>
                        <a href="#siteWorks">PORFOLIO</a>
                        <ul class="submenu">
                            <li>作品1</li>
                            <li>作品1</li>
                            <li>作品1</li>
                        </ul>
                    </li>
                    <li><a href="#">EXPERIENCE</a></li>
                    <li><a href="#">PROCING</a></li>
                    <li>
                        <a href="#">BLOG</a>
                        <ul class="submenu">
                            <li>作品1</li>
                            <li>作品1</li>
                            <li>作品1</li>
                        </ul>
                    </li>
                    <li><a href="#">CALENDAR</a></li>
                    <li><a href="#">CONTACT</a></li>
                    <li><a href="#">OTHER</a></li>
                </ul>
            </nav>
        </div>
       
    </div>

    <div class="banner">
        <div class="mask"></div>
    </div>

    <main>
        <div id="siteAbout" class="userCard">
            <div class=" textAndPicture clearflix">
                <div class="picture" style="float: left;">
                    <img src="./img/resume-man1.jpg" style="width: 299px;height: 347px" alt="picture">
                </div>
                <div class="text" >  
                    
                        <span class="welcome">HELLO
                                <span class='square'></span>
                        </span>
                    <h1>丁胜</h1>
                    <span>在线简历</span>
                    <hr>
                    <dl>
                        
                        <dt>年龄</dt>
                        <dd>26</dd>
                        <dt>地址</dt>
                        <dd>皇后大道东</dd>
                        <dt>手机</dt>
                        <dd>15312345678</dd>
                        <dt>邮箱</dt>
                        <dd>123456789@qq.com</dd>
                        <dt>生日</dt>
                        <dd>1992-01-15</dd>
                    </dl> 
                </div>
            </div>

            <footer>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-wechat"></use>
                    </svg>
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-zhihu0"></use>
                        </svg>
                </a>
                <a href="#">
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-weibo"></use>
                    </svg>
                </a>
                <a href="#">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-github"></use>
                        </svg>
                </a>
            </footer>
        </div>

        <div class="download">
            <p>
                <a href="./resume.pdf" class="btn" download>下载 PDF 简历</a>
            </p>
            
            <p>Hello! I’m Robert Smith. Senior Web Developer specializing in front end development. 
                    Experienced with all stages of the development cycle for dynamic web projects. 
                    Well-versed in numerous programming languages including JavaScript, SQL, 
                    and C. Stng background in project management and customer relations.
                </p>
        </div>
        

    </main>

    <section id="siteSkills" class="skills">
        <h2>专业技能</h2>
        <ol class="clearflix">
            <li>
                <span>HTML &amp; CSS</span>
                <div class="processBar">
                    <div class="process">

                    </div>
                </div>
            </li>
            <li>
                <span>JavaScript</span>
                <div class="processBar">
                    <div class="process">

                    </div>
                </div>
            </li>
            <li>
                <span>jQuery</span>
                <div class="processBar">
                    <div class="process">

                    </div>
                </div>
            </li>
            <li>
                <span>Vue</span>
                <div class="processBar">
                    <div class="process">

                    </div>
                </div>
            </li>
            <li>
                <span>React</span>
                <div class="processBar">
                    <div class="process">

                    </div>
                </div>
            </li>
            <li>
                <span>Angular</span>
                <div class="processBar">
                    <div class="process">

                    </div>
                </div>
            </li>
        </ol>
    </section>

    <section id="siteWorks" class="protfolio">
        <h2>作品集</h2>
        <nav>
            <ol class="clearflix">
                <li id="protfolio1">所有</li>
                <li id="protfolio2">原生JavaScript</li>
                <li id="protfolio3">框架</li>
            </ol>
            <div class="processBar">
                <div class="process state-1" id="processInner"></div>
            </div>
        </nav>

        <div class="works">
            <div class="big" id="big">
                <img src="./img/protfolio1.jpg" alt="作品1">
            </div>
            <div class="small1" id="small1">
                <img src="./img/protfolio2.jpg" alt="作品2">
            </div>
            <div class="small2" id="small2">
                <img src="./img/protfolio3.jpg" alt="作品3">
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
    <script>
        setTimeout(function () {
            siteWelcome.classList.remove('active')
        },3000);

        window.onscroll = function (x){
            window.scrollY > 0?tabNavBar.classList.add('sticky'):tabNavBar.classList.remove('sticky')
        }

        let liTags = document.querySelectorAll('nav>ul>li')
        for(let i = 0,len = liTags.length; i < len; i++){
            let liTag = liTags[i];
            liTag.onmouseenter = function(x){
                x.currentTarget.classList.add('active');
            }
            liTag.onmouseleave = function(x){
                x.currentTarget.classList.remove('active');
            }
        }

        let aTags = document.querySelectorAll('nav>ul>li>a')
        // 导航栏a标签点击时对应html 在距离页面顶部指定位置处显示(注意不是浏览器顶部)
        aTags.forEach(function(e,){
           e.onclick = function (x) {
               x.preventDefault();
               let a = x.currentTarget;
               let id = a.getAttribute('href');
               let ele = document.querySelector(id);

               let times = 25;            //执行25次
               let duration = 500 / times;//周期
               let top = ele.offsetTop;
               console.log('offsetTop:' + top)
               let currentTop = window.scrollY;
               console.log('scrollY:' + currentTop)

               let targetTop = top - 80;
               console.log('targetTop:' + targetTop)
               //自己写的方法
/*               let distance = (targetTop - currentTop)/times; //没次移动多少
               console.log('distance' + distance)
               let n = 0;
               let interval = setInterval(() => {
                   if(n >= 25){
                       window.clearInterval(interval);
                       return
                   }
                    n += 1;
                    window.scrollTo(0,currentTop + distance*n)
               },duration)*/

               //使用tween.js
               function animate(time) {
                   requestAnimationFrame(animate);
                   TWEEN.update(time);
               }
               requestAnimationFrame(animate);

               var coords = { y: currentTop };
               var tween = new TWEEN.Tween(coords) // 初始位置
                       .to({y: targetTop }, 1000) // 目标位置 以及用时
                       .easing(TWEEN.Easing.Quadratic.InOut) // 使用一个(淡入淡出)缓动函数让动画变得平滑
                       .onUpdate(function() { // 回调函数
                           window.scrollTo(0,coords.y)
                       })
                       .start(); //立刻开始缓动

           }
        })





        protfolio1.onclick = function(){
            processInner.className = "process state-1";
            big.className = "big";
            small1.className = "small1"
            small2.className = "small2"
        }
        protfolio2.onclick = function(){
            processInner.className = "process state-2";
            big.className = "big";
            small1.className = "small1"
            small2.className = "small2 poisition2"
        }
        protfolio3.onclick = function(){
            processInner.className = "process state-3";
            big.className = "big";

        }
    </script>
</body>
</html>